<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>What &amp; Why</title>
        <link type="text/css" rel="stylesheet" href="/css/main.css" />
    </head>
    <body>


<div id="main">
    <div id="content">
        

<h1 id="toc_0">What &amp; Why</h1>

<p>There are countless CI options out there. Transitioning from one CI
infrastructure to another can be a huge investment.</p>

<p>Why should you care about Concourse?</p>

<h2 id="toc_1">Easy to learn</h2>

<p>All of Concourse builds on the following primitives:</p>

<dl>
  <dt>resource</dt>
    <dd>
      A resource is any entity that can be checked for new versions, pulled
      down at a specific version, and/or pushed up to generate new versions. A
      common example would be a git repository.
    </dd>

  <dt>job</dt>
    <dd>
      A job is a predefined configuration for builds that will be executed. It
      has inputs and outputs, and typically executes when any of its input
      resources change.
    </dd>

  <dt>build</dt>
    <dd>
      A build is an execution of some program in a container. Before starting,
      all of its input resources are fetched, and upon the program's successful
      completion, all of its outputs are performed.
    </dd>
</dl>

<p>Like files and pipes in Unix, Concourse aims to build an expressive system with
as few distinct moving parts as possible.</p>

<p>Of course, there&rsquo;s a bit more to it than that. Head on over to
<a href="/concepts">Concepts</a> to learn more.</p>

<h2 id="toc_2">Reproducible</h2>

<p>Concourse does not require a wizard to configure. It is designed to be
statically configurable via a single file, that is no larger than it has to be.
When your Concourse deployment burns down, it doesn&rsquo;t matter. Deploy it again
somewhere else, in the exact same configuration.</p>

<p>An entire arbitrarily complicated pipeline can be declared in a single
human-readable config file, and you&rsquo;ll <em>like it</em>.</p>

<p>With BOSH, deploying a Concourse cluster is easy regardless of the size of the
cluster. Scaling up to handle higher workloads is as trivial as bumping the
Turbine instance count.</p>

<h2 id="toc_3">Unintrusive</h2>

<p>Concourse is optimized for quickly navigating to the pages you most care about.
From the main page, the shortest path from a pipeline view to the console
output of a job&rsquo;s latest failing build is a single click.</p>

<p>From there, the job&rsquo;s entire build history is displayed, and every input for
the job is listed out, with any new inputs highlighted.</p>

<p>Console output has colors highlighted and supports unicode. It emulates your
terminal and gets out of your way.</p>

<h2 id="toc_4">Build isolation</h2>

<p>Every build is run in a container, completely isolated from other builds.</p>

<p>Never worry about other teams clobbering your finely tuned global state. Never
again wipe down your worker agents after weeks of use.</p>

<p>The base image for each job&rsquo;s builds is configurable, and supports Docker
images. Control your build&rsquo;s runtime environment as part of your project that
needs it, not your worker VMs.</p>

<h2 id="toc_5">Local iteration</h2>

<p>Everyone knows this dance: set up CI, push, build fails. Fix config, push,
build fails&hellip; 20 commits later, success.</p>

<p>Concourse&rsquo;s support for running builds locally eliminates this pesky workflow,
and allows you to trust that your build running locally runs <em>exactly</em> the same
way that it runs in your CI system.</p>

<p>The workflow then becomes: set up CI, configure build locally, <code>fly</code>, build
fails (we can&rsquo;t fix that), fix things up, <code>fly</code>&hellip;</p>

<p>At the end of this, instead of 20 junk commits pushed to your repo, you&rsquo;ve
figured out a configuration for both running locally and running in CI.</p>

<h2 id="toc_6">Bootstrapped</h2>

<p>Proving all of this works is hard without having a real use case. Thankfully,
Concourse itself is a sufficiently large piece of work that its own pipeline
has been plenty to cut its teeth on.</p>

<p>At the start of the pipeline are jobs configured for each individual component.
These jobs simply run their unit tests, and are the first line of defense.</p>

<p>The versions of each component that make it through this stage are then fed
into an integration job that literally spins every component up in a room and
makes them talk to each other.</p>

<p>From there, the Docker images used for the resource types within the
integration build are shipped, and the ref of each successful resource is
bumped in the BOSH release repository.</p>

<p>Because the release repo changed, a Deploy job kicks in, which literally
<em>deploys to the same instance running the Deploy job</em>. Concourse&rsquo;s own
pipeline drives out the need for deploys to not trash every running build.</p>

<p>After a deploy succeeds, the Concourse version number resource is bumped, and
new artifacts are available for shipping into a new release.</p>

<p>At any point in time, I can walk in and trigger the <code>shipit</code> job, which takes
the most recently built release candidate, bumps its version resource to a
final number (<code>0.3.0.rc.3</code> to <code>0.3.0</code>), and uploads a <code>.tgz</code> to the S3 bucket
containing final releases.</p>

<p>Though the above chain of events may sound complicated, in reality it is just a
bunch of simple functions of inputs &rarr; outputs.</p>

<p>The way I&rsquo;ve described this pipeline flow is precisely how each job is
configured, and automatically visualized on the main page:</p>

<p><a href="/images/concourse-pipeline.png"><img class="pipeline" src="/images/concourse-pipeline.png" alt="Concourse Pipeline" /></a></p>

<p>Initially this array of squares may be a lot to take in, but on your own
projects, where <em>reality</em> is this complicated, you&rsquo;ll appreciate the
straightforward expression of every relationship.</p>

    </div>
</div>

<div id="sidebar">
    <h4>On this page:</h4>
    <nav id="TableOfContents">
<ul>
<li><a href="#toc_0">What &amp; Why</a>
<ul>
<li><a href="#toc_1">Easy to learn</a></li>
<li><a href="#toc_2">Reproducible</a></li>
<li><a href="#toc_3">Unintrusive</a></li>
<li><a href="#toc_4">Build isolation</a></li>
<li><a href="#toc_5">Local iteration</a></li>
<li><a href="#toc_6">Bootstrapped</a></li>
</ul></li>
</ul>
</nav>
</div>

    </body>
</html>

