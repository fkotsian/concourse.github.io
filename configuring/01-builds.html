<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <title>Concourse</title>

    <link href="/stylesheets/normalize.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/all.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/syntax.css" rel="stylesheet" type="text/css" />
    <script src="/javascripts/all.js" type="text/javascript"></script>
  </head>
  <body class="configuring configuring_01-builds">
    <div id="main">
	<div id="content">
    
  <h1 id="builds">Builds</h1>

<p>Conventionally a build's configuration is placed in the root of a repo as
<code>build.yml</code>. It may look something like:</p>

<pre><code class="highlight yaml"><span class="nn">---</span>
<span class="s">image</span><span class="pi">:</span> <span class="s">docker:///concourse/concourse-ci</span>

<span class="s">run</span><span class="pi">:</span>
  <span class="s">path</span><span class="pi">:</span> <span class="s">my-repo/scripts/test</span>
</code></pre>

<p>A build's configuration specifies the following:</p>

<ul>
  <li>
    <p><code>image</code>: <em>Required.</em> The base image of the container. For a Docker image,
specify in the format <code>docker:///username/repo#tag</code> (rather than
<code>username/repo:tag</code>). If you for whatever reason have an extracted rootfs
lying around, you can also specify the absolute path to it on the worker VM.</p>
  </li>
  <li>
    <p><code>run</code>: <em>Required.</em> The path to a script to execute, and any arguments to pass to
it. Note that this is <em>not</em> provided as a script blob, but explicit <code>path</code> and
<code>args</code> values; this allows <code>fly</code> to forward arguments to the script, and
forces your config <code>.yml</code> to stay fairly small.</p>
  </li>
  <li>
    <p><code>params</code>: <em>Optional.</em> A key-value mapping of values that are exposed to the
build via environment variables. Use this to provide things like credentials,
not to set up the build's environment (they are not interpolated).</p>
  </li>
  <li>
    <p><code>paths</code>: <em>Optional.</em> This can be specified to configure Concourse to place the
input resources in custom directories. By default, they are placed in
directories named after the resource. Go projects, for example, may configure
something like <code>my-repo: src/github.com/my-org/my-repo</code>, as a handy shortcut
to put them in a <code>$GOPATH</code> structure.</p>
  </li>
</ul>


	</div>

	<div id="sidebar">
		    <ol><li class='child'><a href="/01-what-and-why.html">What &amp; Why</a></li><li class='parent'><span class='parent-label'><a href="/concepts/">Concepts</a></span><ol><li class='child'><a href="/concepts/01-builds.html">Builds</a></li><li class='child'><a href="/concepts/02-jobs.html">Jobs</a></li><li class='child'><a href="/concepts/03-resources.html">Resources</a></li></ol></li><li class='parent'><span class='parent-label'><a href="/configuring/">Configuring</a></span><ol><li class='child active'><a href="/configuring/01-builds.html">Builds</a></li><li class='child'><a href="/configuring/02-pipelines.html">Pipelines</a></li></ol></li><li class='parent'><span class='parent-label'><a href="/deploying/">Deploying</a></span><ol><li class='child'><a href="/deploying/01-vagrant.html">With Vagrant</a></li><li class='child'><a href="/deploying/02-bosh.html">With BOSH</a></li></ol></li></ol>

	</div>
</div>

  </body>
</html>
